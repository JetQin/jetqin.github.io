webpackJsonp([6],{1271:function(n,s){n.exports={content:["article",["p","class \u6587\u4ef6\u662f\u4e00\u7ec4\u4ee5\u5b57\u8282\u4e3a\u57fa\u7840\u5355\u4f4d\u7684\u4e8c\u8fdb\u5236\u6d41\u3002\u5404\u4e2a\u6570\u636e\u9879\u76ee\u4e25\u683c\u6309\u7167\u987a\u5e8f\u7d27\u51d1\u6392\u5217\u5728class\u6587\u4ef6\u4e2d,\u6570\u636e\u4e4b\u95f4\u6ca1\u6709\u5206\u9694\u7b26\u3002\nClass\u7ed3\u6784\u53ea\u6709\u4e24\u79cd\u6570\u636e\u7c7b\u578b: \u65e0\u7b26\u53f7\u6570\u548c\u8868\uff0c\u65e0\u7b26\u53f7\u6570\u57fa\u4e8e\u57fa\u672c\u7684\u6570\u636e\u7c7b\u578b,\u4ee5u1,u2,u4,u8\u6765\u5206\u522b\u4ee3\u88681,2,4,8\u4e2a\u5b57\u8282\uff0c\u65e0\u7b26\u53f7\u6570\u53ef\u4ee5\u7528\u6765\u63cf\u8ff0\u6570\u5b57\uff0c\u7d22\u5f15\u5f15\u7528\uff0c\u6570\u91cf\u503c\u3002\u8868\u662f\u7531\u591a\u4e2a\u65e0\u7b26\u53f7\u6570\u6216\u5176\u4ed6\u8868\u4f5c\u4e3a\u6570\u636e\u9879\u6784\u6210\u7684\u7b26\u5408\u6570\u636e\u7c7b\u578b\uff0c\u6240\u6709\u8868\u90fd\u4e60\u60ef\u6027\u4ee5\u201c_info\u201d\u7ed3\u5c3e\uff0c\u5982\u4e0b\u662fclass\u6587\u4ef6\u683c\u5f0f\u8be6\u7ec6\u4fe1\u606f."],["pre",{lang:null,highlighted:'ClassFile {\n    u4             magic<span class="token comment" spellcheck="true">;</span>\n    u2             minor_version<span class="token comment" spellcheck="true">;</span>\n    u2             major_version<span class="token comment" spellcheck="true">;</span>\n    u2             constant_pool_count<span class="token comment" spellcheck="true">;</span>\n    cp_info        constant_pool<span class="token punctuation">[</span>constant_pool_count<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true">;</span>\n    u2             access_flags<span class="token comment" spellcheck="true">;</span>\n    u2             this_class<span class="token comment" spellcheck="true">;</span>\n    u2             super_class<span class="token comment" spellcheck="true">;</span>\n    u2             interfaces_count<span class="token comment" spellcheck="true">;</span>\n    u2             interfaces<span class="token punctuation">[</span>interfaces_count<span class="token punctuation">]</span><span class="token comment" spellcheck="true">;</span>\n    u2             fields_count<span class="token comment" spellcheck="true">;</span>\n    field_info     fields<span class="token punctuation">[</span>fields_count<span class="token punctuation">]</span><span class="token comment" spellcheck="true">;</span>\n    u2             methods_count<span class="token comment" spellcheck="true">;</span>\n    method_info    methods<span class="token punctuation">[</span>methods_count<span class="token punctuation">]</span><span class="token comment" spellcheck="true">;</span>\n    u2             attributes_count<span class="token comment" spellcheck="true">;</span>\n    attribute_info attributes<span class="token punctuation">[</span>attributes_count<span class="token punctuation">]</span><span class="token comment" spellcheck="true">;</span>\n}'},["code","ClassFile {\n    u4             magic;\n    u2             minor_version;\n    u2             major_version;\n    u2             constant_pool_count;\n    cp_info        constant_pool[constant_pool_count-1];\n    u2             access_flags;\n    u2             this_class;\n    u2             super_class;\n    u2             interfaces_count;\n    u2             interfaces[interfaces_count];\n    u2             fields_count;\n    field_info     fields[fields_count];\n    u2             methods_count;\n    method_info    methods[methods_count];\n    u2             attributes_count;\n    attribute_info attributes[attributes_count];\n}"]],["p","\u53ef\u53c2\u8003 ",["a",{title:null,href:"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.1"},"The ClassFile Structure"]],["h2","\u7c7b\u7ed3\u6784\u5206\u6790"],["p","\u63a5\u4e0b\u6765\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u4f8b\u5b50\u6765\u5206\u6790class\u7ed3\u6784."],["ul",["li",["p","\u6e90\u6587\u4ef6"]]],["pre",{lang:null,highlighted:'public class Test{\n\n\tprivate int m<span class="token comment" spellcheck="true">;</span>\n \t\n\tprivate int <span class="token function">inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> {\n\t\treturn m <span class="token operator">+</span> <span class="token number">1</span><span class="token comment" spellcheck="true">;</span>\n\t}\t\n}'},["code","public class Test{\n\n\tprivate int m;\n \t\n\tprivate int inc() {\n\t\treturn m + 1;\n\t}\t\n}"]],["ul",["li",["p","\u4e8c\u8fdb\u5236\u6587\u4ef6\u5206\u6790"]]],["p","\u901a\u8fc7",["code","javac"],"\u547d\u4ee4\u7f16\u8bd1\u6e90\u4ee3\u7801\u6587\u4ef6\u4e4b\u540e\uff0c\u6211\u4eec\u4f1a\u5f97\u5230\u4e00\u4e2a",["code","class"],"\u6587\u4ef6\uff0c\u901a\u8fc7Xcode\u63d0\u4f9b\u7684\u4e8c\u8fdb\u5236\u7f16\u8f91\u5de5\u5177\u5c55\u5f00class\u6587\u4ef6\u3002\u5bf9\u7167class\u6587\u4ef6\u7ed3\u6784\u8868\uff0c"],["ul",["li",["p","magic: class\u6587\u4ef6\u5f00\u5934\u662f\u4e00\u4e2au4\u4ee3\u8868\u4e86class\u6587\u4ef6\u7684\u9b54\u6570 ",["code","0xCAFEBABE"],"\uff0c\u901a\u8fc7\u8fa8\u8ba4\u8fd9\u56db\u4e2a\u5b57\u7b26\u9a8c\u8bc1\u8fd9\u662f\u4e00\u4e2a\u5408\u6cd5\u7684class\u6587\u4ef6"]],["li",["p","minor_version, major_version: \u7d27\u63a5\u7740magic\u662fclass\u6587\u4ef6\u7684\u5b50\u7248\u672c\u53f7\u548c\u4e3b\u7248\u672c\u53f7\uff0c\u8fd9\u91cc\u4e3b\u529e\u672c\u53f7\u4e3a",["code","0x13"],",\u5b57\u7248\u672c\u53f7\u4e3a",["code","0x00"]]],["li",["p","constant_pool_count: \u662f\u4e00\u4e2au2\u7c7b\u578b\uff0c\u6b64\u4e3a",["code","0x0013"],"\u5341\u8fdb\u5236\u4e3a19\uff0c\u8868\u793a\u753119\u4e2a\u5e38\u91cf"]],["li",["p","constant_pool:  \u5e38\u91cf\u6c60\u662f\u4e00\u4e2a\u5e38\u91cf\u6570\u7ec4\uff0c\u6bcf\u4e00\u4e2a\u5e38\u91cf\u90fd\u6709\u81ea\u5df1\u5bf9\u5e94\u7684\u7c7b\u578b\u548c\u6570\u636e\uff0c{u1: tag, u2: name_index}. \u7d27\u63a5\u7740",["code","0x0013"],"\u540e\u7684\u662f",["code","0x0A"],"\u4ece\u8fd9\u91cc\u5f00\u59cb\u5c31\u662f\u5e38\u91cf\u6c60\u7684\u5185\u5bb9\uff0c",["code","0x0A"]," \u5bf9\u7167\u5982\u4e0b\u5e38\u91cf\u7c7b\u578b\u8868\u6211\u4eec\u53ef\u4ee5\u77e5\u9053",["code","0x0A"]," \u662f ",["code","CONSTANT_Methodref"],",",["code","0x0A"],"\u540eu2\u6570\u636e",["code","0x0004"],",\u8868\u793a\u8fd9\u4e2a\u65b9\u6cd5\u5f15\u7528\u7684\u662f\u7b2c\u56db\u4e2a\u5e38\u91cf,\u7d27\u63a5\u7740\u7684u2\u6570\u636e",["code","0x000F"],"\u8868\u793a\u65b9\u6cd5\u540d\u5b57\u548c\u7c7b\u578b\u7684\u5f15\u7528\u3002\n\u901a\u8fc7\u4e0a\u8ff0\u65b9\u6cd5\u6211\u4eec\u53ef\u4ee5\u77e5\u9053CONSTANT_Methodref\u540e\u6839\u9488\u7684\u662fCONSTANT_Fieldref\u63a5\u4e0b\u6765\u662fCONSTANT_Class \u5176\u4f59\u7684\u6570\u636e\u53ef\u53c2\u8003ClassFile\u7ed3\u6784\u548c\u76f8\u5e94\u7684Constant Type\u5206\u6790"]]],["p","\u5177\u4f53\u6bcf\u4e2a\u5e38\u91cf\u7c7b\u578b\u7684\u673a\u6784\u53ef\u4ee5\u67e5\u9605",["a",{title:null,href:"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.4"},"Java Virtual Machine Specification"]],["p",["strong","\u5e38\u91cf\u7c7b\u578b\u8868"]],["pre",{lang:null,highlighted:'Constant Type\t        Value\nCONSTANT_Class\t        <span class="token number">7</span>\nCONSTANT_Fieldref\t    <span class="token number">9</span>\nCONSTANT_Methodref\t    <span class="token number">10</span>\nCONSTANT_InterfaceMethodref\t<span class="token number">11</span>\nCONSTANT_String\t<span class="token number">8</span>\nCONSTANT_Integer\t<span class="token number">3</span>\nCONSTANT_Float\t<span class="token number">4</span>\nCONSTANT_Long\t<span class="token number">5</span>\nCONSTANT_Double\t<span class="token number">6</span>\nCONSTANT_NameAndType\t<span class="token number">12</span>\nCONSTANT_Utf8\t<span class="token number">1</span>\nCONSTANT_MethodHandle\t<span class="token number">15</span>\nCONSTANT_MethodType\t<span class="token number">16</span>\nCONSTANT_InvokeDynamic\t<span class="token number">18</span>'},["code","Constant Type\t        Value\nCONSTANT_Class\t        7\nCONSTANT_Fieldref\t    9\nCONSTANT_Methodref\t    10\nCONSTANT_InterfaceMethodref\t11\nCONSTANT_String\t8\nCONSTANT_Integer\t3\nCONSTANT_Float\t4\nCONSTANT_Long\t5\nCONSTANT_Double\t6\nCONSTANT_NameAndType\t12\nCONSTANT_Utf8\t1\nCONSTANT_MethodHandle\t15\nCONSTANT_MethodType\t16\nCONSTANT_InvokeDynamic\t18"]],["p",["img",{title:null,src:"./assets/class_binary.png",alt:"class binary file"}]],["ul",["li",["p","\u4f7f\u7528",["code","javap"],"\u547d\u4ee4\u5206\u6790"]]],["p","javap \u547d\u4ee4\u662f\u4e00\u4e2a\u4e13\u95e8\u7528\u4e8e\u5206\u6790Class\u6587\u4ef6\u5b57\u8282\u7801\u7684\u5de5\u5177\uff0c\u901a\u8fc7 -verbose option \u53ef\u4ee5\u6253\u5370stack\u5185\u5bb9\n\u5177\u4f53\u53ef\u67e5\u770b ",["a",{title:null,href:"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javap.html"},"javap"]],["pre",{lang:null,highlighted:'javap <span class="token operator">-</span>verbose Test\nClassfile <span class="token operator">/</span>Users<span class="token operator">/</span>jet<span class="token operator">/</span>Test<span class="token punctuation">.</span>class\n  Last modified <span class="token number">2019</span><span class="token operator">-</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">18</span><span class="token comment" spellcheck="true">; size 265 bytes</span>\n  MD5 checksum 012da5b33eff5612cda2710c3e5e27be\n  Compiled from <span class="token string">"Test.java"</span>\npublic class Test\n  minor version<span class="token punctuation">:</span> <span class="token number">0</span>\n  major version<span class="token punctuation">:</span> <span class="token number">52</span>\n  flags<span class="token punctuation">:</span> ACC_PUBLIC<span class="token punctuation">,</span> ACC_SUPER\nConstant pool<span class="token punctuation">:</span>\n   <span class="token directive keyword">#1</span> <span class="token operator">=</span> Methodref          #<span class="token number">4</span><span class="token punctuation">.</span>#<span class="token number">15</span>         <span class="token operator">/</span><span class="token operator">/</span> java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token string">"&lt;init>"</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span>V\n   <span class="token directive keyword">#2</span> <span class="token operator">=</span> Fieldref           #<span class="token number">3</span><span class="token punctuation">.</span>#<span class="token number">16</span>         <span class="token operator">/</span><span class="token operator">/</span> Test<span class="token punctuation">.</span>m<span class="token punctuation">:</span>I\n   <span class="token directive keyword">#3</span> <span class="token operator">=</span> Class              #<span class="token number">17</span>            <span class="token operator">/</span><span class="token operator">/</span> Test\n   <span class="token directive keyword">#4</span> <span class="token operator">=</span> Class              #<span class="token number">18</span>            <span class="token operator">/</span><span class="token operator">/</span> java<span class="token operator">/</span>lang<span class="token operator">/</span>Object\n   <span class="token directive keyword">#5</span> <span class="token operator">=</span> Utf8               m\n   <span class="token directive keyword">#6</span> <span class="token operator">=</span> Utf8               I\n   <span class="token directive keyword">#7</span> <span class="token operator">=</span> Utf8               <span class="token operator">&lt;</span>init<span class="token operator">></span>\n   <span class="token directive keyword">#8</span> <span class="token operator">=</span> Utf8               <span class="token punctuation">(</span><span class="token punctuation">)</span>V\n   <span class="token directive keyword">#9</span> <span class="token operator">=</span> Utf8               Code\n  <span class="token directive keyword">#10</span> <span class="token operator">=</span> Utf8               LineNumberTable\n  <span class="token directive keyword">#11</span> <span class="token operator">=</span> Utf8               inc\n  <span class="token directive keyword">#12</span> <span class="token operator">=</span> Utf8               <span class="token punctuation">(</span><span class="token punctuation">)</span>I\n  <span class="token directive keyword">#13</span> <span class="token operator">=</span> Utf8               SourceFile\n  <span class="token directive keyword">#14</span> <span class="token operator">=</span> Utf8               Test<span class="token punctuation">.</span>java\n  <span class="token directive keyword">#15</span> <span class="token operator">=</span> NameAndType        #<span class="token number">7</span><span class="token punctuation">:</span>#<span class="token number">8</span>          <span class="token operator">/</span><span class="token operator">/</span> <span class="token string">"&lt;init>"</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span>V\n  <span class="token directive keyword">#16</span> <span class="token operator">=</span> NameAndType        #<span class="token number">5</span><span class="token punctuation">:</span>#<span class="token number">6</span>          <span class="token operator">/</span><span class="token operator">/</span> m<span class="token punctuation">:</span>I\n  <span class="token directive keyword">#17</span> <span class="token operator">=</span> Utf8               Test\n  <span class="token directive keyword">#18</span> <span class="token operator">=</span> Utf8               java<span class="token operator">/</span>lang<span class="token operator">/</span>Object\n{\n  public <span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n    descriptor<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>V\n    flags<span class="token punctuation">:</span> ACC_PUBLIC\n    Code<span class="token punctuation">:</span>\n      stack<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> locals<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> args_size<span class="token operator">=</span><span class="token number">1</span>\n         <span class="token number">0</span><span class="token punctuation">:</span> aload_0\n         <span class="token number">1</span><span class="token punctuation">:</span> invokespecial #<span class="token number">1</span>                  <span class="token operator">/</span><span class="token operator">/</span> Method java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token string">"&lt;init>"</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span>V\n         <span class="token number">4</span><span class="token punctuation">:</span> return\n      LineNumberTable<span class="token punctuation">:</span>\n        line <span class="token number">1</span><span class="token punctuation">:</span> <span class="token number">0</span>\n}\nSourceFile<span class="token punctuation">:</span> <span class="token string">"Test.java"</span>'},["code",'javap -verbose Test\nClassfile /Users/jet/Test.class\n  Last modified 2019-2-18; size 265 bytes\n  MD5 checksum 012da5b33eff5612cda2710c3e5e27be\n  Compiled from "Test.java"\npublic class Test\n  minor version: 0\n  major version: 52\n  flags: ACC_PUBLIC, ACC_SUPER\nConstant pool:\n   #1 = Methodref          #4.#15         // java/lang/Object."<init>":()V\n   #2 = Fieldref           #3.#16         // Test.m:I\n   #3 = Class              #17            // Test\n   #4 = Class              #18            // java/lang/Object\n   #5 = Utf8               m\n   #6 = Utf8               I\n   #7 = Utf8               <init>\n   #8 = Utf8               ()V\n   #9 = Utf8               Code\n  #10 = Utf8               LineNumberTable\n  #11 = Utf8               inc\n  #12 = Utf8               ()I\n  #13 = Utf8               SourceFile\n  #14 = Utf8               Test.java\n  #15 = NameAndType        #7:#8          // "<init>":()V\n  #16 = NameAndType        #5:#6          // m:I\n  #17 = Utf8               Test\n  #18 = Utf8               java/lang/Object\n{\n  public Test();\n    descriptor: ()V\n    flags: ACC_PUBLIC\n    Code:\n      stack=1, locals=1, args_size=1\n         0: aload_0\n         1: invokespecial #1                  // Method java/lang/Object."<init>":()V\n         4: return\n      LineNumberTable:\n        line 1: 0\n}\nSourceFile: "Test.java"']]],meta:{order:1,title:"Class\u6587\u4ef6\u7ed3\u6784",type:"\u8fdb\u9636",filename:"docs/java/jvm-class-structure.zh-CN.md"},toc:["ul",["li",["a",{className:"bisheng-toc-h2",href:"#\u7c7b\u7ed3\u6784\u5206\u6790",title:"\u7c7b\u7ed3\u6784\u5206\u6790"},"\u7c7b\u7ed3\u6784\u5206\u6790"]]]}}});