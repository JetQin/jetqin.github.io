webpackJsonp([27],{1286:function(n,s){n.exports={content:["article",["h2","\u4e3b\u4ece\u590d\u5236"],["p",["code","Redis 5.0"]," \u4e4b\u540e\u63d0\u4f9b\u4e86",["code","REPLICAOF"],"\u66ff\u4ee3\u4e86\u4e4b\u524d\u7684",["code","SLAVEOF"],"\u547d\u4ee4\u6765\u5b9e\u73b0",["code","Master-Slave"],"\u4e4b\u95f4\u7684\u6570\u636e\u4ea4\u6362\n\u63a5\u4e0b\u6765\u6211\u4eec\u8bbe\u7f6e\u4e3b\u4ece\u590d\u5236\u6a21\u578b:"],["ul",["li",["p",["strong","Master\u8282\u70b9"]]]],["p","\u9996\u5148\u4fee\u6539",["code","redis-master.conf"],"\u914d\u7f6e\u6587\u4ef6\u6765\u914d\u7f6e\u7aef\u53e3\u548c\u5b89\u5168\u8ba4\u8bc1"],["pre",{lang:null,highlighted:'bind <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span>\nport <span class="token number">6379</span>               #\u7aef\u53e3\nrequirepass redis       #\u914d\u7f6e\u5bc6\u7801\u4e4b\u540e\u9700\u8981\u5148\u8ba4\u8bc1\uff0c\u7136\u540e\u624d\u80fd\u7ee7\u7eed\u8fdb\u884c\u540e\u7eed\u64cd\u4f5c'},["code","bind 127.0.0.1\nport 6379               #\u7aef\u53e3\nrequirepass redis       #\u914d\u7f6e\u5bc6\u7801\u4e4b\u540e\u9700\u8981\u5148\u8ba4\u8bc1\uff0c\u7136\u540e\u624d\u80fd\u7ee7\u7eed\u8fdb\u884c\u540e\u7eed\u64cd\u4f5c"]],["ul",["li",["p",["strong","Slave\u8282\u70b9"]]]],["p","\u9996\u5148\u4fee\u6539",["code","redis-slave.conf"],"\u914d\u7f6e\u6587\u4ef6\u6765\u914d\u7f6e\u7aef\u53e3\u548c\u5b89\u5168\u8ba4\u8bc1"],["pre",{lang:null,highlighted:'bind <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span>\nport <span class="token number">6379</span>                   #\u7aef\u53e3\nmasterauth  redis           #\u914d\u7f6e\u5bc6\u7801\u4e4b\u540e\u9700\u8981\u5148\u8ba4\u8bc1\uff0c\u7136\u540e\u624d\u80fd\u7ee7\u7eed\u8fdb\u884c\u540e\u7eed\u64cd\u4f5c\nreplicaof <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span> <span class="token number">6379</span>    #\u8bbe\u7f6e\u5176\u4e3a<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span>\u7684\u5907\u673a '},["code","bind 127.0.0.1\nport 6379                   #\u7aef\u53e3\nmasterauth  redis           #\u914d\u7f6e\u5bc6\u7801\u4e4b\u540e\u9700\u8981\u5148\u8ba4\u8bc1\uff0c\u7136\u540e\u624d\u80fd\u7ee7\u7eed\u8fdb\u884c\u540e\u7eed\u64cd\u4f5c\nreplicaof 127.0.0.1 6379    #\u8bbe\u7f6e\u5176\u4e3a127.0.0.1:6379\u7684\u5907\u673a "]],["p",["strong","\u542f\u52a8\u4e3b\u8282\u70b9"]],["pre",{lang:null,highlighted:'redis<span class="token operator">-</span>server redis<span class="token operator">-</span>master<span class="token punctuation">.</span>conf\n<span class="token number">29035</span><span class="token punctuation">:</span>C <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">21</span><span class="token punctuation">:</span><span class="token number">32.272</span> # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo\n<span class="token number">29035</span><span class="token punctuation">:</span>C <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">21</span><span class="token punctuation">:</span><span class="token number">32.273</span> # Redis version<span class="token operator">=</span><span class="token number">5.0</span><span class="token punctuation">.</span><span class="token number">3</span><span class="token punctuation">,</span> bits<span class="token operator">=</span><span class="token number">64</span><span class="token punctuation">,</span> commit<span class="token operator">=</span><span class="token number">00000000</span><span class="token punctuation">,</span> modified<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> pid<span class="token operator">=</span><span class="token number">29035</span><span class="token punctuation">,</span> just started\n<span class="token number">29035</span><span class="token punctuation">:</span>C <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">21</span><span class="token punctuation">:</span><span class="token number">32.273</span> # Configuration loaded\n<span class="token number">29035</span><span class="token punctuation">:</span>M <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">21</span><span class="token punctuation">:</span><span class="token number">32.275</span> <span class="token operator">*</span> Increased maximum number of open files <span class="token keyword">to</span> <span class="token number">10032</span> <span class="token punctuation">(</span>it was originally set <span class="token keyword">to</span> <span class="token number">4864</span><span class="token punctuation">)</span><span class="token punctuation">.</span>\n                _<span class="token punctuation">.</span>_\n           _<span class="token punctuation">.</span><span class="token operator">-</span>``__ <span class="token string">\'\'</span><span class="token operator">-</span><span class="token punctuation">.</span>_\n      _<span class="token punctuation">.</span><span class="token operator">-</span>``    `<span class="token punctuation">.</span>  `_<span class="token punctuation">.</span>  <span class="token string">\'\'</span><span class="token operator">-</span><span class="token punctuation">.</span>_           Redis <span class="token number">5.0</span><span class="token punctuation">.</span><span class="token number">3</span> <span class="token punctuation">(</span><span class="token number">00000000</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">64</span> bit\n  <span class="token punctuation">.</span><span class="token operator">-</span>`` <span class="token punctuation">.</span><span class="token operator">-</span>```<span class="token punctuation">.</span>  ```\\<span class="token operator">/</span>    _<span class="token punctuation">.</span><span class="token punctuation">,</span>_ <span class="token string">\'\'</span><span class="token operator">-</span><span class="token punctuation">.</span>_\n <span class="token punctuation">(</span>    \'      <span class="token punctuation">,</span>       <span class="token punctuation">.</span><span class="token operator">-</span>`  | `<span class="token punctuation">,</span>    <span class="token punctuation">)</span>     Running <span class="token keyword">in</span> standalone mode\n |`<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">-</span>` __<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">-</span><span class="token punctuation">.</span>``<span class="token operator">-</span><span class="token punctuation">.</span>_|<span class="token string">\'` _.-\'</span>|     Port<span class="token punctuation">:</span> <span class="token number">6379</span>\n |    `<span class="token operator">-</span><span class="token punctuation">.</span>_   `<span class="token punctuation">.</span>_    <span class="token operator">/</span>     _<span class="token punctuation">.</span><span class="token operator">-</span>\'    |     PID<span class="token punctuation">:</span> <span class="token number">29035</span>\n  `<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>_  `<span class="token operator">-</span><span class="token punctuation">.</span><span class="token operator">/</span>  _<span class="token punctuation">.</span><span class="token operator">-</span><span class="token string">\'    _.-\'</span>\n |`<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>__<span class="token punctuation">.</span><span class="token operator">-</span><span class="token string">\'    _.-\'</span>_<span class="token punctuation">.</span><span class="token operator">-</span>\'|\n |    `<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>_        _<span class="token punctuation">.</span><span class="token operator">-</span><span class="token string">\'_.-\'</span>    |           http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>redis<span class="token punctuation">.</span>io\n  `<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>__<span class="token punctuation">.</span><span class="token operator">-</span><span class="token string">\'_.-\'</span>    _<span class="token punctuation">.</span><span class="token operator">-</span>\'\n |`<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>__<span class="token punctuation">.</span><span class="token operator">-</span><span class="token string">\'    _.-\'</span>_<span class="token punctuation">.</span><span class="token operator">-</span>\'|\n |    `<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>_        _<span class="token punctuation">.</span><span class="token operator">-</span><span class="token string">\'_.-\'</span>    |\n  `<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>__<span class="token punctuation">.</span><span class="token operator">-</span><span class="token string">\'_.-\'</span>    _<span class="token punctuation">.</span><span class="token operator">-</span>\'\n      `<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>__<span class="token punctuation">.</span><span class="token operator">-</span><span class="token string">\'    _.-\'</span>\n          `<span class="token operator">-</span><span class="token punctuation">.</span>_        _<span class="token punctuation">.</span><span class="token operator">-</span>\'\n              `<span class="token operator">-</span><span class="token punctuation">.</span>__<span class="token punctuation">.</span><span class="token operator">-</span>\'\n\n<span class="token number">29035</span><span class="token punctuation">:</span>M <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">21</span><span class="token punctuation">:</span><span class="token number">32.287</span> # Server initialized\n<span class="token number">29035</span><span class="token punctuation">:</span>M <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">21</span><span class="token punctuation">:</span><span class="token number">32.289</span> <span class="token operator">*</span> DB loaded from disk<span class="token punctuation">:</span> <span class="token number">0.003</span> seconds\n<span class="token number">29035</span><span class="token punctuation">:</span>M <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">21</span><span class="token punctuation">:</span><span class="token number">32.289</span> <span class="token operator">*</span> Ready <span class="token keyword">to</span> accept connections\n<span class="token number">29035</span><span class="token punctuation">:</span>M <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.112</span> <span class="token operator">*</span> Replica <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6380</span> asks <span class="token keyword">for</span> synchronization\n<span class="token number">29035</span><span class="token punctuation">:</span>M <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.112</span> <span class="token operator">*</span> Full resync requested by replica <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6380</span>\n<span class="token number">29035</span><span class="token punctuation">:</span>M <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.112</span> <span class="token operator">*</span> Starting BGSAVE <span class="token keyword">for</span> SYNC <span class="token keyword">with</span> target<span class="token punctuation">:</span> disk\n<span class="token number">29035</span><span class="token punctuation">:</span>M <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.112</span> <span class="token operator">*</span> Background saving started by pid <span class="token number">29298</span>\n<span class="token number">29298</span><span class="token punctuation">:</span>C <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.114</span> <span class="token operator">*</span> DB saved on disk\n<span class="token number">29035</span><span class="token punctuation">:</span>M <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.118</span> <span class="token operator">*</span> Background saving terminated <span class="token keyword">with</span> success\n<span class="token number">29035</span><span class="token punctuation">:</span>M <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.119</span> <span class="token operator">*</span> Synchronization <span class="token keyword">with</span> replica <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6380</span> succeeded'},["code","redis-server redis-master.conf\n29035:C 18 Mar 2019 23:21:32.272 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo\n29035:C 18 Mar 2019 23:21:32.273 # Redis version=5.0.3, bits=64, commit=00000000, modified=0, pid=29035, just started\n29035:C 18 Mar 2019 23:21:32.273 # Configuration loaded\n29035:M 18 Mar 2019 23:21:32.275 * Increased maximum number of open files to 10032 (it was originally set to 4864).\n                _._\n           _.-``__ ''-._\n      _.-``    `.  `_.  ''-._           Redis 5.0.3 (00000000/0) 64 bit\n  .-`` .-```.  ```\\/    _.,_ ''-._\n (    '      ,       .-`  | `,    )     Running in standalone mode\n |`-._`-...-` __...-.``-._|'` _.-'|     Port: 6379\n |    `-._   `._    /     _.-'    |     PID: 29035\n  `-._    `-._  `-./  _.-'    _.-'\n |`-._`-._    `-.__.-'    _.-'_.-'|\n |    `-._`-._        _.-'_.-'    |           http://redis.io\n  `-._    `-._`-.__.-'_.-'    _.-'\n |`-._`-._    `-.__.-'    _.-'_.-'|\n |    `-._`-._        _.-'_.-'    |\n  `-._    `-._`-.__.-'_.-'    _.-'\n      `-._    `-.__.-'    _.-'\n          `-._        _.-'\n              `-.__.-'\n\n29035:M 18 Mar 2019 23:21:32.287 # Server initialized\n29035:M 18 Mar 2019 23:21:32.289 * DB loaded from disk: 0.003 seconds\n29035:M 18 Mar 2019 23:21:32.289 * Ready to accept connections\n29035:M 18 Mar 2019 23:26:58.112 * Replica 127.0.0.1:6380 asks for synchronization\n29035:M 18 Mar 2019 23:26:58.112 * Full resync requested by replica 127.0.0.1:6380\n29035:M 18 Mar 2019 23:26:58.112 * Starting BGSAVE for SYNC with target: disk\n29035:M 18 Mar 2019 23:26:58.112 * Background saving started by pid 29298\n29298:C 18 Mar 2019 23:26:58.114 * DB saved on disk\n29035:M 18 Mar 2019 23:26:58.118 * Background saving terminated with success\n29035:M 18 Mar 2019 23:26:58.119 * Synchronization with replica 127.0.0.1:6380 succeeded"]],["p",["strong","\u542f\u52a8\u4ece\u8282\u70b9"]],["pre",{lang:null,highlighted:'redis<span class="token operator">-</span>server redis<span class="token operator">-</span>slave<span class="token punctuation">.</span>conf\n<span class="token number">29297</span><span class="token punctuation">:</span>C <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.107</span> # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo\n<span class="token number">29297</span><span class="token punctuation">:</span>C <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.107</span> # Redis version<span class="token operator">=</span><span class="token number">5.0</span><span class="token punctuation">.</span><span class="token number">3</span><span class="token punctuation">,</span> bits<span class="token operator">=</span><span class="token number">64</span><span class="token punctuation">,</span> commit<span class="token operator">=</span><span class="token number">00000000</span><span class="token punctuation">,</span> modified<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> pid<span class="token operator">=</span><span class="token number">29297</span><span class="token punctuation">,</span> just started\n<span class="token number">29297</span><span class="token punctuation">:</span>C <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.107</span> # Configuration loaded\n<span class="token number">29297</span><span class="token punctuation">:</span>S <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.108</span> <span class="token operator">*</span> Increased maximum number of open files <span class="token keyword">to</span> <span class="token number">10032</span> <span class="token punctuation">(</span>it was originally set <span class="token keyword">to</span> <span class="token number">4864</span><span class="token punctuation">)</span><span class="token punctuation">.</span>\n                _<span class="token punctuation">.</span>_\n           _<span class="token punctuation">.</span><span class="token operator">-</span>``__ <span class="token string">\'\'</span><span class="token operator">-</span><span class="token punctuation">.</span>_\n      _<span class="token punctuation">.</span><span class="token operator">-</span>``    `<span class="token punctuation">.</span>  `_<span class="token punctuation">.</span>  <span class="token string">\'\'</span><span class="token operator">-</span><span class="token punctuation">.</span>_           Redis <span class="token number">5.0</span><span class="token punctuation">.</span><span class="token number">3</span> <span class="token punctuation">(</span><span class="token number">00000000</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">64</span> bit\n  <span class="token punctuation">.</span><span class="token operator">-</span>`` <span class="token punctuation">.</span><span class="token operator">-</span>```<span class="token punctuation">.</span>  ```\\<span class="token operator">/</span>    _<span class="token punctuation">.</span><span class="token punctuation">,</span>_ <span class="token string">\'\'</span><span class="token operator">-</span><span class="token punctuation">.</span>_\n <span class="token punctuation">(</span>    \'      <span class="token punctuation">,</span>       <span class="token punctuation">.</span><span class="token operator">-</span>`  | `<span class="token punctuation">,</span>    <span class="token punctuation">)</span>     Running <span class="token keyword">in</span> standalone mode\n |`<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">-</span>` __<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">-</span><span class="token punctuation">.</span>``<span class="token operator">-</span><span class="token punctuation">.</span>_|<span class="token string">\'` _.-\'</span>|     Port<span class="token punctuation">:</span> <span class="token number">6380</span>\n |    `<span class="token operator">-</span><span class="token punctuation">.</span>_   `<span class="token punctuation">.</span>_    <span class="token operator">/</span>     _<span class="token punctuation">.</span><span class="token operator">-</span>\'    |     PID<span class="token punctuation">:</span> <span class="token number">29297</span>\n  `<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>_  `<span class="token operator">-</span><span class="token punctuation">.</span><span class="token operator">/</span>  _<span class="token punctuation">.</span><span class="token operator">-</span><span class="token string">\'    _.-\'</span>\n |`<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>__<span class="token punctuation">.</span><span class="token operator">-</span><span class="token string">\'    _.-\'</span>_<span class="token punctuation">.</span><span class="token operator">-</span>\'|\n |    `<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>_        _<span class="token punctuation">.</span><span class="token operator">-</span><span class="token string">\'_.-\'</span>    |           http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>redis<span class="token punctuation">.</span>io\n  `<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>__<span class="token punctuation">.</span><span class="token operator">-</span><span class="token string">\'_.-\'</span>    _<span class="token punctuation">.</span><span class="token operator">-</span>\'\n |`<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>__<span class="token punctuation">.</span><span class="token operator">-</span><span class="token string">\'    _.-\'</span>_<span class="token punctuation">.</span><span class="token operator">-</span>\'|\n |    `<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>_        _<span class="token punctuation">.</span><span class="token operator">-</span><span class="token string">\'_.-\'</span>    |\n  `<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>__<span class="token punctuation">.</span><span class="token operator">-</span><span class="token string">\'_.-\'</span>    _<span class="token punctuation">.</span><span class="token operator">-</span>\'\n      `<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>__<span class="token punctuation">.</span><span class="token operator">-</span><span class="token string">\'    _.-\'</span>\n          `<span class="token operator">-</span><span class="token punctuation">.</span>_        _<span class="token punctuation">.</span><span class="token operator">-</span>\'\n              `<span class="token operator">-</span><span class="token punctuation">.</span>__<span class="token punctuation">.</span><span class="token operator">-</span>\'\n\n<span class="token number">29297</span><span class="token punctuation">:</span>S <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.110</span> # Server initialized\n<span class="token number">29297</span><span class="token punctuation">:</span>S <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.110</span> <span class="token operator">*</span> DB loaded from disk<span class="token punctuation">:</span> <span class="token number">0.000</span> seconds\n<span class="token number">29297</span><span class="token punctuation">:</span>S <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.110</span> <span class="token operator">*</span> Ready <span class="token keyword">to</span> accept connections\n<span class="token number">29297</span><span class="token punctuation">:</span>S <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.110</span> <span class="token operator">*</span> Connecting <span class="token keyword">to</span> MASTER <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span>\n<span class="token number">29297</span><span class="token punctuation">:</span>S <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.110</span> <span class="token operator">*</span> MASTER <span class="token operator">&lt;</span><span class="token operator">-</span><span class="token operator">></span> REPLICA sync started\n<span class="token number">29297</span><span class="token punctuation">:</span>S <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.111</span> <span class="token operator">*</span> Non blocking connect <span class="token keyword">for</span> SYNC fired the event<span class="token punctuation">.</span>\n<span class="token number">29297</span><span class="token punctuation">:</span>S <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.111</span> <span class="token operator">*</span> Master replied <span class="token keyword">to</span> PING<span class="token punctuation">,</span> replication can continue<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n<span class="token number">29297</span><span class="token punctuation">:</span>S <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.111</span> <span class="token operator">*</span> Partial resynchronization <span class="token operator">not</span> possible <span class="token punctuation">(</span>no cached master<span class="token punctuation">)</span>\n<span class="token number">29297</span><span class="token punctuation">:</span>S <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.113</span> <span class="token operator">*</span> Full resync from master<span class="token punctuation">:</span> e98b4a9238559875100344dea137f9a803c5f805<span class="token punctuation">:</span><span class="token number">0</span>\n<span class="token number">29297</span><span class="token punctuation">:</span>S <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.119</span> <span class="token operator">*</span> MASTER <span class="token operator">&lt;</span><span class="token operator">-</span><span class="token operator">></span> REPLICA sync<span class="token punctuation">:</span> receiving <span class="token number">365</span> bytes from master\n<span class="token number">29297</span><span class="token punctuation">:</span>S <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.119</span> <span class="token operator">*</span> MASTER <span class="token operator">&lt;</span><span class="token operator">-</span><span class="token operator">></span> REPLICA sync<span class="token punctuation">:</span> Flushing old data\n<span class="token number">29297</span><span class="token punctuation">:</span>S <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.119</span> <span class="token operator">*</span> MASTER <span class="token operator">&lt;</span><span class="token operator">-</span><span class="token operator">></span> REPLICA sync<span class="token punctuation">:</span> Loading DB <span class="token keyword">in</span> memory\n<span class="token number">29297</span><span class="token punctuation">:</span>S <span class="token number">18</span> Mar <span class="token number">2019</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">:</span><span class="token number">58.119</span> <span class="token operator">*</span> MASTER <span class="token operator">&lt;</span><span class="token operator">-</span><span class="token operator">></span> REPLICA sync<span class="token punctuation">:</span> Finished <span class="token keyword">with</span> success'},["code","redis-server redis-slave.conf\n29297:C 18 Mar 2019 23:26:58.107 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo\n29297:C 18 Mar 2019 23:26:58.107 # Redis version=5.0.3, bits=64, commit=00000000, modified=0, pid=29297, just started\n29297:C 18 Mar 2019 23:26:58.107 # Configuration loaded\n29297:S 18 Mar 2019 23:26:58.108 * Increased maximum number of open files to 10032 (it was originally set to 4864).\n                _._\n           _.-``__ ''-._\n      _.-``    `.  `_.  ''-._           Redis 5.0.3 (00000000/0) 64 bit\n  .-`` .-```.  ```\\/    _.,_ ''-._\n (    '      ,       .-`  | `,    )     Running in standalone mode\n |`-._`-...-` __...-.``-._|'` _.-'|     Port: 6380\n |    `-._   `._    /     _.-'    |     PID: 29297\n  `-._    `-._  `-./  _.-'    _.-'\n |`-._`-._    `-.__.-'    _.-'_.-'|\n |    `-._`-._        _.-'_.-'    |           http://redis.io\n  `-._    `-._`-.__.-'_.-'    _.-'\n |`-._`-._    `-.__.-'    _.-'_.-'|\n |    `-._`-._        _.-'_.-'    |\n  `-._    `-._`-.__.-'_.-'    _.-'\n      `-._    `-.__.-'    _.-'\n          `-._        _.-'\n              `-.__.-'\n\n29297:S 18 Mar 2019 23:26:58.110 # Server initialized\n29297:S 18 Mar 2019 23:26:58.110 * DB loaded from disk: 0.000 seconds\n29297:S 18 Mar 2019 23:26:58.110 * Ready to accept connections\n29297:S 18 Mar 2019 23:26:58.110 * Connecting to MASTER 127.0.0.1:6379\n29297:S 18 Mar 2019 23:26:58.110 * MASTER <-> REPLICA sync started\n29297:S 18 Mar 2019 23:26:58.111 * Non blocking connect for SYNC fired the event.\n29297:S 18 Mar 2019 23:26:58.111 * Master replied to PING, replication can continue...\n29297:S 18 Mar 2019 23:26:58.111 * Partial resynchronization not possible (no cached master)\n29297:S 18 Mar 2019 23:26:58.113 * Full resync from master: e98b4a9238559875100344dea137f9a803c5f805:0\n29297:S 18 Mar 2019 23:26:58.119 * MASTER <-> REPLICA sync: receiving 365 bytes from master\n29297:S 18 Mar 2019 23:26:58.119 * MASTER <-> REPLICA sync: Flushing old data\n29297:S 18 Mar 2019 23:26:58.119 * MASTER <-> REPLICA sync: Loading DB in memory\n29297:S 18 Mar 2019 23:26:58.119 * MASTER <-> REPLICA sync: Finished with success"]],["p","\u4ece\u8282\u70b9\u542f\u52a8\u4e4b\u540e\u4f1a\u81ea\u52a8\u4ece\u4e3b\u8282\u70b9\u540c\u6b65\u6570\u636e\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u6d4b\u8bd5\u4ece\u4e3b\u8282\u70b9\u5199\u5165\u6570\u636e\uff0c\u4ece\u8282\u70b9\u8bfb\u6570\u636e"],["p","\u4e3b\u8282\u70b9\u5199\u5165",["code","mastermsg"]],["pre",{lang:null,highlighted:'redis<span class="token operator">-</span>cli <span class="token operator">-</span>h <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span> <span class="token operator">-</span>p <span class="token number">6379</span>\n<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> auth redis\nOK\n<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> set mastermsg <span class="token string">"master msgs"</span>\nOK'},["code",'redis-cli -h 127.0.0.1 -p 6379\n127.0.0.1:6379> auth redis\nOK\n127.0.0.1:6379> set mastermsg "master msgs"\nOK']],["p","\u4ece\u8282\u70b9\u8bfb",["code","mastermsg"]],["pre",{lang:null,highlighted:'redis<span class="token operator">-</span>cli <span class="token operator">-</span>h <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span> <span class="token operator">-</span>p <span class="token number">6380</span>\n<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6380</span><span class="token operator">></span> get msg\n<span class="token string">"hello world"</span>\n<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6380</span><span class="token operator">></span> get mastermsg       #\u7b2c\u4e00\u6b21\u83b7\u53d6\u65f6\u6ca1\u6709\u83b7\u53d6\u5230\uff0c\u56e0\u4e3a\u8fd8\u672a\u540c\u6b65\n<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>\n<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6380</span><span class="token operator">></span> get mastermsg\n<span class="token string">"master msgs"</span>\n<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6380</span><span class="token operator">></span>'},["code",'redis-cli -h 127.0.0.1 -p 6380\n127.0.0.1:6380> get msg\n"hello world"\n127.0.0.1:6380> get mastermsg       #\u7b2c\u4e00\u6b21\u83b7\u53d6\u65f6\u6ca1\u6709\u83b7\u53d6\u5230\uff0c\u56e0\u4e3a\u8fd8\u672a\u540c\u6b65\n(nil)\n127.0.0.1:6380> get mastermsg\n"master msgs"\n127.0.0.1:6380>']],["h2","\u54e8\u5175(Sentinel)"],["p","\u54e8\u5175(Sentinel)\u662f",["code","Redis"],"\u7684\u9ad8\u53ef\u7528\u6027\u89e3\u51b3\u65b9\u6848\uff0c\u7531\u4e00\u4e2a\u6216\u591a\u4e2a",["code","Sentinel"],"\u5b9e\u4f8b\u7ec4\u6210\u7684",["code","Sentinel"],"\u7cfb\u7edf\uff0c\u53ef\u4ee5\u76d1\u89c6\u4efb\u610f\u591a\u4e2a\u4e3b\u670d\u52a1\u5668\u4ee5\u53ca\u4e3b\u670d\u52a1\u5668\u4e0b\u7684\u4ece\u670d\u52a1\u5668\u3002\u5e76\u5728\u4e3b\u670d\u52a1\u5668\u4e0b\u7ebf\u72b6\u6001\u662f\uff0c\u81ea\u52a8\u5c06\u4ece\u670d\u52a1\u5668\u9009\u4e3e\u4e3a\u65b0\u7684\u4e3b\u670d\u52a1\u5668\uff0c\u7136\u540e\u7531\u65b0\u7684\u4e3b\u670d\u52a1\u5668\u4ee3\u66ff\u5df2\u4e0b\u7ebf\u7684\u4e3b\u670d\u52a1\u5668\u7ee7\u7eed\u5904\u7406\u547d\u4ee4\u8bf7\u6c42\u3002"],["p","\u5047\u8bbe\u7531\u56db\u4e2a\u670d\u52a1\u5668",["code","server1"]," \u4e3a\u4e3b\u670d\u52a1\u5668,",["code","server2"],",",["code","server3"],",",["code","server4"]," \u4e3a\u4ece\u670d\u52a1\u5668\n\u4e3b\u4ece\u5207\u6362\u6309\u7167\u5982\u4e0b\u6b65\u9aa4\u8fdb\u884c:"],["ul",["li",["p",["code","server1"]," \u4e3b\u670d\u52a1\u5668\u4e0b\u7ebf"]],["li",["p",["code","server2"],",",["code","server3"],",",["code","server4"]," \u4ece\u670d\u52a1\u5668\u7ec8\u7aef\u4e0e\u4e3b\u670d\u52a1\u5668\u7684\u590d\u5236\u64cd\u4f5c"]],["li",["p",["code","Sentinel"]," \u7cfb\u7edf\u5bdf\u89c9\u5230 ",["code","server1"],"\u4e0b\u7ebf"]],["li",["p",["code","Sentinel"],"\u4f1a\u4ece\u4ece\u670d\u52a1\u5668\u5217\u8868\u4e2d\u9009\u62e9\u4e00\u4e2a\u670d\u52a1\u5668\u4f5c\u4e3a\u65b0\u7684\u4e3b\u670d\u52a1\u5668,\u5047\u8bbe\u4e3a",["code","server2"]]],["li",["p",["code","Sentinel"],"\u7cfb\u7edf\u5411\u9664",["code","server2"],"\u4ee5\u5916\u7684\u5176\u4ed6\u4ece\u670d\u52a1\u5668\u53d1\u9001\u65b0\u7684\u590d\u5236\u6307\u4ee4\u8ba9\u4ed6\u4eec\u4ece",["code","server2"],"\u590d\u5236\u6570\u636e"]],["li",["p",["code","Sentinel"],"\u76d1\u89c6\u5230",["code","server1"],"\u91cd\u65b0\u4e0a\u7ebf\uff0c\u4f1a\u5c06\u5176\u91cd\u65b0\u52a0\u5165\u5230",["code","server2"],"\u7684\u4ece\u670d\u52a1\u5668\u5217\u8868"]]],["p","Sentinel \u914d\u7f6e\u6587\u4ef6:"],["p",["strong","\u914d\u7f6e\u54e8\u5175\u65f6\uff0c\u6700\u597d\u7981\u7528redis.conf\u4e2d\u7684",["code","requirepass"],",\u5426\u5219\u54e8\u5175\u542f\u52a8\u65f6\u4f1a\u8ba4\u4e3a\u4e3b\u673a\u4e0b\u7ebf\uff0c\u6216\u8005\u9700\u8981\u5728\u54e8\u5175\u914d\u7f6e\u6587\u4ef6\u4e2d\u589e\u52a0",["code","sentinel auth-pass master-name password"]]],["p",["strong","master \u914d\u7f6e\u6587\u4ef6"]],["pre",{lang:null,highlighted:'# The port that this sentinel instance will run on\nport <span class="token number">26379</span>\n\n# By <span class="token keyword">default</span> Redis Sentinel does <span class="token operator">not</span> run as a daemon<span class="token punctuation">.</span> Use <span class="token string">\'yes\'</span> <span class="token keyword">if</span> you need it<span class="token punctuation">.</span>\ndaemonize no\n\n# When running daemonized<span class="token punctuation">,</span> Redis Sentinel writes a pid file <span class="token keyword">in</span>\n# <span class="token operator">/</span>var<span class="token operator">/</span>run<span class="token operator">/</span>redis<span class="token operator">-</span>sentinel<span class="token punctuation">.</span>pid by <span class="token keyword">default</span><span class="token punctuation">.</span> \npidfile <span class="token operator">/</span>var<span class="token operator">/</span>run<span class="token operator">/</span>redis<span class="token operator">-</span>sentinel<span class="token punctuation">.</span>pid\n\n# Specify the log file name<span class="token punctuation">.</span> Also the empty string can be used <span class="token keyword">to</span> force\n# Sentinel <span class="token keyword">to</span> log on the standard output<span class="token punctuation">.</span>\nlogfile <span class="token string">""</span>\n\ndir <span class="token operator">/</span>tmp\n\nsentinel monitor mymaster <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span> <span class="token number">6379</span> <span class="token number">2</span>                #\u914d\u7f6e\u76d1\u89c6\u7684Redis \u4e3b\u673a\uff0c\u5224\u65ad\u4e00\u4e2a\u4e3b\u673a\u4e0b\u7ebf\u9700\u8981\u4e24\u4e2a\u54e8\u5175\u8fbe\u6210\u4e00\u81f4\nsentinel down<span class="token operator">-</span>after<span class="token operator">-</span>milliseconds mymaster <span class="token number">5000</span>            #Redis\u4e3b\u673a\u65ad\u7ebf<span class="token number">5</span>\u79d2\u8ba4\u4e3a\u5176\u4e0b\u7ebf\nsentinel parallel<span class="token operator">-</span>syncs mymaster <span class="token number">1</span>                        #\u9009\u9879\u6307\u5b9a\u4e86\u5728\u6267\u884c\u6545\u969c\u8f6c\u79fb\u65f6\uff0c \u6700\u591a\u53ef\u4ee5\u6709\u591a\u5c11\u4e2a\u4ece\u670d\u52a1\u5668\u540c\u65f6\u5bf9\u65b0\u7684\u4e3b\u670d\u52a1\u5668\u8fdb\u884c\u540c\u6b65\nsentinel failover<span class="token operator">-</span>timeout mymaster <span class="token number">10000</span>                  #\u6545\u969c\u8f6c\u79fb\u8d85\u65f6\u65f6\u95f4\nsentinel deny<span class="token operator">-</span>scripts<span class="token operator">-</span>reconfig yes'},["code","# The port that this sentinel instance will run on\nport 26379\n\n# By default Redis Sentinel does not run as a daemon. Use 'yes' if you need it.\ndaemonize no\n\n# When running daemonized, Redis Sentinel writes a pid file in\n# /var/run/redis-sentinel.pid by default. \npidfile /var/run/redis-sentinel.pid\n\n# Specify the log file name. Also the empty string can be used to force\n# Sentinel to log on the standard output.\nlogfile \"\"\n\ndir /tmp\n\nsentinel monitor mymaster 127.0.0.1 6379 2                #\u914d\u7f6e\u76d1\u89c6\u7684Redis \u4e3b\u673a\uff0c\u5224\u65ad\u4e00\u4e2a\u4e3b\u673a\u4e0b\u7ebf\u9700\u8981\u4e24\u4e2a\u54e8\u5175\u8fbe\u6210\u4e00\u81f4\nsentinel down-after-milliseconds mymaster 5000            #Redis\u4e3b\u673a\u65ad\u7ebf5\u79d2\u8ba4\u4e3a\u5176\u4e0b\u7ebf\nsentinel parallel-syncs mymaster 1                        #\u9009\u9879\u6307\u5b9a\u4e86\u5728\u6267\u884c\u6545\u969c\u8f6c\u79fb\u65f6\uff0c \u6700\u591a\u53ef\u4ee5\u6709\u591a\u5c11\u4e2a\u4ece\u670d\u52a1\u5668\u540c\u65f6\u5bf9\u65b0\u7684\u4e3b\u670d\u52a1\u5668\u8fdb\u884c\u540c\u6b65\nsentinel failover-timeout mymaster 10000                  #\u6545\u969c\u8f6c\u79fb\u8d85\u65f6\u65f6\u95f4\nsentinel deny-scripts-reconfig yes"]],["p",["strong","slave1 \u914d\u7f6e\u6587\u4ef6"]],["pre",{lang:null,highlighted:'port <span class="token number">26380</span>\n\n# By <span class="token keyword">default</span> Redis Sentinel does <span class="token operator">not</span> run as a daemon<span class="token punctuation">.</span> Use <span class="token string">\'yes\'</span> <span class="token keyword">if</span> you need it<span class="token punctuation">.</span>\n# Note that Redis will write a pid file <span class="token keyword">in</span> <span class="token operator">/</span>var<span class="token operator">/</span>run<span class="token operator">/</span>redis<span class="token operator">-</span>sentinel<span class="token punctuation">.</span>pid when\n# daemonized<span class="token punctuation">.</span>\ndaemonize no\npidfile <span class="token string">"/var/run/redis-sentinel-slave1.pid"</span>\nsentinel myid 524b588bb23f15e6a2f749698ff7359c0ae6a2f1\nsentinel deny<span class="token operator">-</span>scripts<span class="token operator">-</span>reconfig yes\nsentinel monitor mymaster <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span> <span class="token number">6380</span> <span class="token number">2</span>\nsentinel down<span class="token operator">-</span>after<span class="token operator">-</span>milliseconds mymaster <span class="token number">5000</span>\nsentinel failover<span class="token operator">-</span>timeout mymaster <span class="token number">10000</span>\nsentinel config<span class="token operator">-</span>epoch mymaster <span class="token number">1</span>\n\n# Generated by CONFIG REWRITE\ndir <span class="token string">"/Users/jet"</span>\nprotected<span class="token operator">-</span>mode no\nsentinel leader<span class="token operator">-</span>epoch mymaster <span class="token number">1</span>\nsentinel known<span class="token operator">-</span>replica mymaster <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span> <span class="token number">6381</span>\nsentinel known<span class="token operator">-</span>replica mymaster <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span> <span class="token number">6379</span>\nsentinel known<span class="token operator">-</span>sentinel mymaster <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span> <span class="token number">26381</span> 8a1794781323d413d9753c497a637c7cb9ca1462\nsentinel known<span class="token operator">-</span>sentinel mymaster <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span> <span class="token number">26379</span> 524b588bb23f15e6a2f749698ff7359c0ae6a2f0\nsentinel current<span class="token operator">-</span>epoch <span class="token number">1</span>'},["code",'port 26380\n\n# By default Redis Sentinel does not run as a daemon. Use \'yes\' if you need it.\n# Note that Redis will write a pid file in /var/run/redis-sentinel.pid when\n# daemonized.\ndaemonize no\npidfile "/var/run/redis-sentinel-slave1.pid"\nsentinel myid 524b588bb23f15e6a2f749698ff7359c0ae6a2f1\nsentinel deny-scripts-reconfig yes\nsentinel monitor mymaster 127.0.0.1 6380 2\nsentinel down-after-milliseconds mymaster 5000\nsentinel failover-timeout mymaster 10000\nsentinel config-epoch mymaster 1\n\n# Generated by CONFIG REWRITE\ndir "/Users/jet"\nprotected-mode no\nsentinel leader-epoch mymaster 1\nsentinel known-replica mymaster 127.0.0.1 6381\nsentinel known-replica mymaster 127.0.0.1 6379\nsentinel known-sentinel mymaster 127.0.0.1 26381 8a1794781323d413d9753c497a637c7cb9ca1462\nsentinel known-sentinel mymaster 127.0.0.1 26379 524b588bb23f15e6a2f749698ff7359c0ae6a2f0\nsentinel current-epoch 1']],["p",["strong","slave 2  \u914d\u7f6e\u6587\u4ef6"]],["pre",{lang:null,highlighted:'port <span class="token number">26381</span>\n\n# By <span class="token keyword">default</span> Redis Sentinel does <span class="token operator">not</span> run as a daemon<span class="token punctuation">.</span> Use <span class="token string">\'yes\'</span> <span class="token keyword">if</span> you need it<span class="token punctuation">.</span>\n# Note that Redis will write a pid file <span class="token keyword">in</span> <span class="token operator">/</span>var<span class="token operator">/</span>run<span class="token operator">/</span>redis<span class="token operator">-</span>sentinel<span class="token punctuation">.</span>pid when\n# daemonized<span class="token punctuation">.</span>\ndaemonize no\npidfile <span class="token string">"/var/run/redis-sentinel-slave2.pid"</span>\n\nsentinel myid 8a1794781323d413d9753c497a637c7cb9ca1462\nsentinel deny<span class="token operator">-</span>scripts<span class="token operator">-</span>reconfig yes\nsentinel monitor mymaster <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span> <span class="token number">6380</span> <span class="token number">2</span>\nsentinel down<span class="token operator">-</span>after<span class="token operator">-</span>milliseconds mymaster <span class="token number">5000</span>\nsentinel failover<span class="token operator">-</span>timeout mymaster <span class="token number">10000</span>\nsentinel config<span class="token operator">-</span>epoch mymaster <span class="token number">1</span>\n\n# Generated by CONFIG REWRITE\ndir <span class="token string">"/Users/jet"</span>\nprotected<span class="token operator">-</span>mode no\nsentinel leader<span class="token operator">-</span>epoch mymaster <span class="token number">1</span>\nsentinel known<span class="token operator">-</span>replica mymaster <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span> <span class="token number">6381</span>\nsentinel known<span class="token operator">-</span>replica mymaster <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span> <span class="token number">6379</span>\nsentinel known<span class="token operator">-</span>sentinel mymaster <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span> <span class="token number">26380</span> 524b588bb23f15e6a2f749698ff7359c0ae6a2f1\nsentinel known<span class="token operator">-</span>sentinel mymaster <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span> <span class="token number">26379</span> 524b588bb23f15e6a2f749698ff7359c0ae6a2f0\nsentinel current<span class="token operator">-</span>epoch <span class="token number">1</span>'},["code",'port 26381\n\n# By default Redis Sentinel does not run as a daemon. Use \'yes\' if you need it.\n# Note that Redis will write a pid file in /var/run/redis-sentinel.pid when\n# daemonized.\ndaemonize no\npidfile "/var/run/redis-sentinel-slave2.pid"\n\nsentinel myid 8a1794781323d413d9753c497a637c7cb9ca1462\nsentinel deny-scripts-reconfig yes\nsentinel monitor mymaster 127.0.0.1 6380 2\nsentinel down-after-milliseconds mymaster 5000\nsentinel failover-timeout mymaster 10000\nsentinel config-epoch mymaster 1\n\n# Generated by CONFIG REWRITE\ndir "/Users/jet"\nprotected-mode no\nsentinel leader-epoch mymaster 1\nsentinel known-replica mymaster 127.0.0.1 6381\nsentinel known-replica mymaster 127.0.0.1 6379\nsentinel known-sentinel mymaster 127.0.0.1 26380 524b588bb23f15e6a2f749698ff7359c0ae6a2f1\nsentinel known-sentinel mymaster 127.0.0.1 26379 524b588bb23f15e6a2f749698ff7359c0ae6a2f0\nsentinel current-epoch 1']],["p","\u64cd\u4f5c\u7ed3\u679c\u5982\u56fe:"],["p",["strong","\u5982\u679c\u8bbe\u7f6e\u4e86\u5bc6\u7801\uff0c\u6267\u884c\u5b8c\u6545\u969c\u8f6c\u79fb\u4e4b\u540e\u54e8\u5175\u4f1a\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u54e8\u5175\u4f1a\u91cd\u5199master,slave, \u4e4b\u524d\u5982\u679c\u914d\u7f6e\u4e86\u5bc6\u7801\u6b64\u65f6\u5f88\u53ef\u80fd\u4f1a\u4ea7\u751fAUTH\u5931\u8d25\u7684\u95ee\u9898"]],["p",["img",{title:null,src:"https://i.loli.net/2019/03/21/5c93acbe63c34.png",alt:"5c93acbe63c34"}]]],meta:{order:4,title:"Redis \u9ad8\u53ef\u7528",type:"\u5165\u95e8",filename:"docs/database/redis-ha.zh-CN.md"},toc:["ul",["li",["a",{className:"bisheng-toc-h2",href:"#\u4e3b\u4ece\u590d\u5236",title:"\u4e3b\u4ece\u590d\u5236"},"\u4e3b\u4ece\u590d\u5236"]],["li",["a",{className:"bisheng-toc-h2",href:"#\u54e8\u5175(Sentinel)",title:"\u54e8\u5175(Sentinel)"},"\u54e8\u5175(Sentinel)"]]]}}});